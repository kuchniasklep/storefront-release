var __awaiter=this&&this.__awaiter||function(t,e,o,n){function i(t){return t instanceof o?t:new o((function(e){e(t)}))}return new(o||(o=Promise))((function(o,r){function s(t){try{c(n.next(t))}catch(e){r(e)}}function a(t){try{c(n["throw"](t))}catch(e){r(e)}}function c(t){t.done?o(t.value):i(t.value).then(s,a)}c((n=n.apply(t,e||[])).next())}))};var __generator=this&&this.__generator||function(t,e){var o={label:0,sent:function(){if(r[0]&1)throw r[1];return r[1]},trys:[],ops:[]},n,i,r,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol==="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(t){return function(e){return c([t,e])}}function c(s){if(n)throw new TypeError("Generator is already executing.");while(o)try{if(n=1,i&&(r=s[0]&2?i["return"]:s[0]?i["throw"]||((r=i["return"])&&r.call(i),0):i.next)&&!(r=r.call(i,s[1])).done)return r;if(i=0,r)s=[s[0]&2,r.value];switch(s[0]){case 0:case 1:r=s;break;case 4:o.label++;return{value:s[1],done:false};case 5:o.label++;i=s[1];s=[0];continue;case 7:s=o.ops.pop();o.trys.pop();continue;default:if(!(r=o.trys,r=r.length>0&&r[r.length-1])&&(s[0]===6||s[0]===2)){o=0;continue}if(s[0]===3&&(!r||s[1]>r[0]&&s[1]<r[3])){o.label=s[1];break}if(s[0]===6&&o.label<r[1]){o.label=r[1];r=s;break}if(r&&o.label<r[2]){o.label=r[2];o.ops.push(s);break}if(r[2])o.ops.pop();o.trys.pop();continue}s=e.call(t,o)}catch(a){s=[6,a];i=0}finally{n=r=0}if(s[0]&5)throw s[1];return{value:s[0]?s[1]:void 0,done:true}}};import{r as registerInstance,h,g as getElement}from"./index-74ff0cef.js";import{S as Swiper}from"./core-class-8ec5acbb.js";var productSuggestionsCss="ks-product-suggestions{display:block}ks-product-suggestions .content{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;width:100%;height:100%;background-color:white;text-align:center}ks-product-suggestions .content>.top{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-sizing:border-box;box-sizing:border-box;height:100%;padding:60px 20px;max-height:400px}ks-product-suggestions .content>.top>.heading{font-family:var(--font-emphasis);font-size:20px;font-weight:700}ks-product-suggestions .content>.top>.name{font-family:var(--font-emphasis);font-size:18px}ks-product-suggestions .content>.top>.buttons{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-top:20px;max-width:600px;width:100%}ks-product-suggestions .content>.top>.buttons>*{-webkit-box-flex:1;-ms-flex:1 0 auto;flex:1 0 auto;margin:5px}ks-product-suggestions .content>.bottom{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;position:relative;-webkit-box-sizing:border-box;box-sizing:border-box;padding:10px 0px;height:100%;background-color:#f2f2f2}ks-product-suggestions .content>.bottom>.fade-left,ks-product-suggestions .content>.bottom>.fade-right{position:absolute;top:0;height:100%;width:50px;z-index:1}ks-product-suggestions .content>.bottom>.fade-left{background-image:-webkit-gradient(linear, left top, right top, from(#f2f2f2), to(rgba(242, 242, 242, 0)));background-image:linear-gradient(to right, #f2f2f2, rgba(242, 242, 242, 0));left:0}ks-product-suggestions .content>.bottom>.fade-right{background-image:-webkit-gradient(linear, right top, left top, from(#f2f2f2), to(rgba(242, 242, 242, 0)));background-image:linear-gradient(to left, #f2f2f2, rgba(242, 242, 242, 0));right:0}ks-product-suggestions .swiper-container{width:100%;-webkit-box-flex:1;-ms-flex:1 0 auto;flex:1 0 auto}ks-product-suggestions .swiper-slide{height:100%;width:auto;max-width:230px;overflow:hidden;-webkit-animation:fade-in 0.8s ease 1;animation:fade-in 0.8s ease 1}ks-product-suggestions .swiper-slide>*{width:230px}@media (max-width: 560px){ks-product-suggestions .content>.top{padding:20px 10px}ks-product-suggestions .content>.top>.buttons{width:100%;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;margin-top:10px}}@media (max-width: 370px){ks-product-suggestions .content>.top>.buttons>*>button{padding-top:12px;padding-bottom:12px}ks-product-suggestions .content>.top>.heading{font-size:18px}ks-product-suggestions .content>.top>.name{font-family:var(--font-regular);font-size:14px}ks-product-suggestions .swiper-slide>*{width:200px}}";var ProductSuggestions=function(){function t(t){registerInstance(this,t);this.loading=true;this.products=new Array}t.prototype.componentDidRender=function(){this.overlay=this.root.querySelector("ks-overlay")};t.prototype.show=function(t,e){return __awaiter(this,void 0,void 0,(function(){var o=this;return __generator(this,(function(n){this.showCarousel();this.loading=true;this.name=e;this.products=[];this.overlay.show();setTimeout((function(){return __awaiter(o,void 0,void 0,(function(){var e,o;var n=this;return __generator(this,(function(i){switch(i.label){case 0:e=new Headers;e.append("pragma","no-cache");e.append("cache-control","no-cache");o=new FormData;o.append("id",t);return[4,fetch(this.api,{method:"POST",body:o,headers:e,credentials:"same-origin"}).then((function(t){return t.json()})).then((function(t){n.products=t;n.loading=false}))];case 1:i.sent();return[2]}}))}))}),1500);return[2]}))}))};t.prototype.hide=function(){this.overlay.hide()};t.prototype.toCart=function(){window.location.href="koszyk.html"};t.prototype.showCarousel=function(){if(this.carousel==undefined){this.carousel=new Swiper(".product-suggestions",{observer:true,observeParents:true,slidesPerView:"auto",centeredSlides:true,spaceBetween:10,initialSlide:1,preventInteractionOnTransition:true});console.log(this.carousel)}};t.prototype.render=function(){var t=this;return h("ks-overlay",null,h("div",{class:"content"},h("div",{class:"top"},h("div",{class:"heading"},"Dodano do koszyka"),h("div",{class:"name"},this.name),h("div",{class:"buttons"},h("ks-button",{tall:true,secondary:true,name:"Przejdź do koszyka",onClick:function(){return t.toCart()}}),h("ks-button",{tall:true,name:"Przeglądaj dalej",onClick:function(){return t.hide()}}))),h("div",{class:"bottom"},this.loading?h("ks-loader",{dark:true,large:true}):null,h("div",{class:"swiper-container product-suggestions",style:{display:this.loading?"none":"block"}},h("div",{class:"swiper-wrapper"},this.products.map((function(t){return h("div",{class:"swiper-slide"},h("ks-product-card",{"link-only":true,name:t.name,img:t.image,link:t.link,currentPrice:t.currentPrice,previousPrice:t.previousPrice!="0.00"?t.previousPrice:null}))})))),h("div",{class:"fade-left"}),h("div",{class:"fade-right"}))))};Object.defineProperty(t.prototype,"root",{get:function(){return getElement(this)},enumerable:false,configurable:true});return t}();ProductSuggestions.style=productSuggestionsCss;export{ProductSuggestions as ks_product_suggestions};