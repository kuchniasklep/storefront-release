var __awaiter=this&&this.__awaiter||function(e,t,i,r){function n(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r["throw"](e))}catch(t){o(t)}}function c(e){e.done?i(e.value):n(e.value).then(a,s)}c((r=r.apply(e,t||[])).next())}))};var __generator=this&&this.__generator||function(e,t){var i={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,n,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return c([e,t])}}function c(a){if(r)throw new TypeError("Generator is already executing.");while(i)try{if(r=1,n&&(o=a[0]&2?n["return"]:a[0]?n["throw"]||((o=n["return"])&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;if(n=0,o)a=[a[0]&2,o.value];switch(a[0]){case 0:case 1:o=a;break;case 4:i.label++;return{value:a[1],done:false};case 5:i.label++;n=a[1];a=[0];continue;case 7:a=i.ops.pop();i.trys.pop();continue;default:if(!(o=i.trys,o=o.length>0&&o[o.length-1])&&(a[0]===6||a[0]===2)){i=0;continue}if(a[0]===3&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(a[0]===6&&i.label<o[1]){i.label=o[1];o=a;break}if(o&&i.label<o[2]){i.label=o[2];i.ops.push(a);break}if(o[2])i.ops.pop();i.trys.pop();continue}a=t.call(e,i)}catch(s){a=[6,s];n=0}finally{r=o=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};import{r as registerInstance,h,g as getElement}from"./index-22b73bd9.js";import{T as Tunnel}from"./cartData-871fd2cb.js";var cartSelectCss=".ks-cart-select{display:block;position:relative;height:50px}.ks-cart-select .animation{-webkit-animation:start 1.0s ease;animation:start 1.0s ease}@-webkit-keyframes start{from{opacity:0}to{opacity:1}}@keyframes start{from{opacity:0}to{opacity:1}}.ks-cart-select>.center{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:50px}.ks-cart-select .select{display:-webkit-box;display:-ms-flexbox;display:flex;background-color:#f8f8f8;-webkit-transition:background-color 0.3s ease;transition:background-color 0.3s ease;outline:1px solid #d2d2d2;outline-offset:-1px}.ks-cart-select .select:hover{background-color:#f2f2f2}.ks-cart-select[error] .select{background-color:#ffc5c5;color:#ff0000;outline-color:#ff0000}.ks-cart-select[error] .select:hover{background-color:#ff8a8a}.ks-cart-select .selectSlot{-webkit-box-flex:1;-ms-flex:1;flex:1}.ks-cart-select .selectIcon{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;z-index:10;width:50px;height:50px;background-color:#252525;color:white;-webkit-transition:background-color 0.3s ease;transition:background-color 0.3s ease}.ks-cart-select .select:hover .selectIcon{background-color:#353535}.ks-cart-select .items{position:absolute;top:50px;left:0;width:100%;z-index:20;background-color:#f8f8f8;-webkit-box-shadow:0px 3px 20px -5px rgba(0, 0, 0, 0.349);box-shadow:0px 3px 20px -5px rgba(0, 0, 0, 0.349)}.ks-cart-select .items .ks-cart-select-item:hover{background-color:#f0f0f0}@media only screen and (max-width: 420px){.ks-cart-select .select .ks-cart-select-item .price{display:none}}";var CartSelectShipping=function(){function e(e){registerInstance(this,e);this.name="";this.valid=false;this.error=false;this.active=-1;this.toggled=false;this.loading=false}e.prototype.StartLoading=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(e){this.loading=true;return[2]}))}))};e.prototype.ResetLoading=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(e){this.loading=false;return[2]}))}))};e.prototype.Validate=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(e){if(!this.valid){this.error=true;return[2,false]}this.error=false;return[2,true]}))}))};e.prototype.OutsideClickHandler=function(e){var t=e.target;if(this.toggled&&!t.closest('.ks-cart-select[name="'+this.name+'"]'))this.toggled=false};e.prototype.componentDidLoad=function(){this.root.classList.add("ks-cart-select")};e.prototype.ActiveItemWatcher=function(){if(this.valid)this.active=this.activeShipping};e.prototype.ActivateItem=function(e){if(e!=this.activeShipping)this.ShippingChange(e);this.toggled=false;this.active=e;this.valid=true;this.error=false};e.prototype.render=function(){var e=this;if(this.loading)return h("div",{class:"center"},h("nav",{"uk-spinner":true}));var t=this.shipping.find((function(t){return t.id==e.active}));return[h("div",{class:"select animation",onClick:function(){if(!e.loading)e.toggled=!e.toggled}},h("div",{class:"selectSlot"},this.active==-1?h("ks-cart-select-item",{name:"Wybierz metodę wysyłki"}):h("ks-cart-select-item",{logo:t.logo,name:t.name,price:t.price})),h("div",{class:"selectIcon"},h("span",{"uk-icon":"icon: triangle-down; ratio: 1.3"}))),h("div",{class:"items",hidden:!this.toggled},this.shipping.map((function(t){return h("ks-cart-select-item",{key:t.id,logo:t.logo,name:t.name,price:t.price,color:t.color,onClick:function(){return e.ActivateItem(t.id)}})})))]};Object.defineProperty(e.prototype,"root",{get:function(){return getElement(this)},enumerable:false,configurable:true});Object.defineProperty(e,"watchers",{get:function(){return{activeShipping:["ActiveItemWatcher"]}},enumerable:false,configurable:true});return e}();Tunnel.injectProps(CartSelectShipping,["shipping","ShippingChange","activeShipping"]);CartSelectShipping.style=cartSelectCss;export{CartSelectShipping as ks_cart_select_shipping};