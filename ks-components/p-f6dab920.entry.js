import{r as t,h as i,g as s}from"./p-cb802b7f.js";const e=class{constructor(i){t(this,i),this.search="WrocÅ‚aw, Polska",this.api="",this.description="",this.address="",this.code="",this.initialized=!1,this.valid=!0}componentDidLoad(){this.root.style.display="block"}Show(t){t.preventDefault();const i=document.querySelector("#ks-order-inpost");UIkit.modal(i).show(),this.initialized||(window.easyPackAsyncInit=()=>{easyPack.init({defaultLocale:"pl",mapType:"osm",searchType:"osm",points:{types:["parcel_locker"],functions:["parcel_collect"]},map:{initialTypes:["parcel_locker"]}}),this.widget=easyPack.mapWidget("easypack-map",t=>{this.address=t.name+", "+t.address.line1+", "+t.address.line2,this.code=t.name,this.description=t.address.line1+", "+t.address.line2+"<br />"+t.name;const i=t.address.line1+", "+t.address.line2+"  ("+t.name+")",s=t.name;let e=new FormData;e.append("value",i),e.append("punktodbioru",s);var n=new Headers;n.append("pragma","no-cache"),n.append("cache-control","no-cache"),fetch(this.api,{method:"POST",headers:n,body:e,credentials:"same-origin"}),this.Validate(),this.Hide()}),this.widget.searchPlace(this.search)},this.initialized=!this.initialized)}Hide(){const t=document.querySelector("#ks-order-inpost");UIkit.modal(t).hide()}async Validate(){this.valid=""!=this.address}async IsValid(){return this.valid}render(){return[i("link",{rel:"stylesheet",href:"https://geowidget.easypack24.net/css/easypack.css"}),i("script",{async:!0,src:"https://geowidget.easypack24.net/js/sdk-for-javascript.js"}),i("style",{innerHTML:"\n                @keyframes ks-fade {\n                    from {opacity: 1.0;}\n                    to {opacity: 0.4;}\n                }\n\n                #easypack-map #listvillages {\n                    left: 0 !important;\n                    right: 0 !important;\n                    top: initial !important;\n                }\n\n                #easypack-map .input-group {\n                    padding: 0 !important;\n                    width: calc(100% - 60px) !important;\n                    height: 60px !important;\n                }\n\n                #easypack-map input {\n                    height: 60px;\n                }\n                #easypack-map button {\n                    height: 60px;\n                }\n            "}),i("p",{innerHTML:this.description}),i("button",{class:"uk-button uk-width-1-1 uk-margin-top "+(this.valid?"uk-button-secondary":"uk-button-danger"),style:{animation:this.valid?"":"ks-fade 0.5s cubic-bezier(.86,.01,.67,1) infinite alternate"},onClick:t=>this.Show(t)},"Wybierz punkt dostawy"),i("input",{type:"hidden",name:"lokalizacjaRuch",value:this.address}),i("input",{type:"hidden",name:"ShippingDestinationCode",value:this.code}),i("div",{id:"ks-order-inpost",class:"uk-modal-full","uk-modal":!0},i("div",{class:"uk-modal-dialog"},i("div",{class:"uk-background-cover uk-flex uk-flex-between uk-flex-column","uk-height-viewport":!0},i("div",{id:"easypack-map",style:{height:"100vh",width:"100vw"}}),i("button",{class:"uk-button uk-button-secondary uk-position-top-right",style:{width:"60px",height:"60px"},onClick:()=>this.Hide()},i("span",{"uk-icon":"close"})))))]}get root(){return s(this)}};export{e as ks_order_inpost}