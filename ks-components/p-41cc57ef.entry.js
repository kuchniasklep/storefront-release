import{r as t,h as s,g as i}from"./p-f748ea6f.js";const e=class{constructor(s){t(this,s),this.search="WrocÅ‚aw, Polska",this.api="",this.description="",this.address="",this.code="",this.initialized=!1,this.valid=!0}componentDidLoad(){this.root.style.display="block"}Show(t){t.preventDefault();const s=document.querySelector("#ks-order-inpost");UIkit.modal(s).show(),this.initialized||(window.easyPackAsyncInit=()=>{easyPack.init({defaultLocale:"pl",mapType:"osm",searchType:"osm",points:{types:["parcel_locker"],functions:["parcel_collect"]},map:{initialTypes:["parcel_locker"]}}),this.widget=easyPack.mapWidget("easypack-map",(t=>{this.address=t.name+", "+t.address.line1+", "+t.address.line2,this.code=t.name,this.description=t.address.line1+", "+t.address.line2+"<br />"+t.name;const s=t.address.line1+", "+t.address.line2+"  ("+t.name+")",i=t.name;let e=new FormData;e.append("rodzaj","wysylka_inpost"),e.append("koszyk","0"),e.append("value",s),e.append("punktodbioru",i);var a=new Headers;a.append("pragma","no-cache"),a.append("cache-control","no-cache"),fetch(this.api,{method:"POST",headers:a,body:e,credentials:"same-origin"}),this.Validate(),this.Hide()})),this.widget.searchPlace(this.search)},this.initialized=!this.initialized)}Hide(){const t=document.querySelector("#ks-order-inpost");UIkit.modal(t).hide()}async Validate(){this.valid=""!=this.address}async IsValid(){return this.valid}render(){return[s("link",{rel:"stylesheet",href:"https://geowidget.easypack24.net/css/easypack.css"}),s("script",{async:!0,src:"https://geowidget.easypack24.net/js/sdk-for-javascript.js"}),s("style",{innerHTML:"\n                @keyframes ks-fade {\n                    from {opacity: 1.0;}\n                    to {opacity: 0.4;}\n                }\n\n                #easypack-map #listvillages {\n                    left: 0 !important;\n                    right: 0 !important;\n                    top: initial !important;\n                }\n\n                #easypack-map .input-group {\n                    padding: 0 !important;\n                    width: calc(100% - 60px) !important;\n                    height: 60px !important;\n                }\n\n                #easypack-map input {\n                    height: 60px;\n                }\n                #easypack-map button {\n                    height: 60px;\n                }\n            "}),s("p",{innerHTML:this.description}),s("button",{class:"uk-button uk-width-1-1 uk-margin-top "+(this.valid?"uk-button-secondary":"uk-button-danger"),style:{animation:this.valid?"":"ks-fade 0.5s cubic-bezier(.86,.01,.67,1) infinite alternate"},onClick:t=>this.Show(t)},"Wybierz punkt dostawy"),s("input",{type:"hidden",name:"lokalizacjaRuch",value:this.address}),s("input",{type:"hidden",name:"ShippingDestinationCode",value:this.code}),s("div",{id:"ks-order-inpost",class:"uk-modal-full","uk-modal":!0},s("div",{class:"uk-modal-dialog"},s("div",{class:"uk-background-cover uk-flex uk-flex-between uk-flex-column","uk-height-viewport":!0},s("div",{id:"easypack-map",style:{height:"100vh",width:"100vw"}}),s("button",{class:"uk-button uk-button-secondary uk-position-top-right",style:{width:"60px",height:"60px"},onClick:()=>this.Hide()},s("span",{"uk-icon":"close"})))))]}get root(){return i(this)}};export{e as ks_order_inpost}