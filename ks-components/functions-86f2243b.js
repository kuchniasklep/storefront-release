async function o(o,e){const n=new Headers;return n.append("pragma","no-cache"),n.append("cache-control","no-cache"),fetch(o,{method:"POST",body:e,headers:n,credentials:"same-origin"}).then((o=>{if(!o.ok)throw{name:o.status,message:o.statusText};return o}))}function e(e,n,t,a,s,i){const r=document.querySelector("ks-error-popup"),k=document.querySelector("ks-message-popup");let u=new FormData;u.append("id",e),u.append("ilosc",n),u.append("cechy",t),u.append("akcja","dodaj"),o("inne/do_koszyka_ilosc.php?tok="+ksCartCountToken,u).then((async o=>o.json())).then((async u=>{if(""!=u[0].ilosc)return k.show("Błąd dodawania produktu",u[0].komunikat),void(i&&i(!1));let d=new FormData;d.append("id",e),d.append("ilosc",n),d.append("cechy",t),d.append("komentarz",""),d.append("komentarz",""),d.append("txt",""),d.append("wroc",""),d.append("miejsce",a),await o("inne/do_koszyka.php?tok=",d).then((o=>o.text())).then((o=>{let t=o.indexOf("KonieczneCechy"),a=o.indexOf("TylkoGratis");if(t>0||a>0){let e=document.createElement("div");e.innerHTML=o,e.querySelector("h3").remove();let n=e.querySelector("#PopUpPrzyciski");const a=n.querySelector("a"),c=a?a.href:"",s=a?a.innerText:"";return n.remove(),k.show(t>0?"Konieczne cechy":"Produkt jako gratis",e.innerHTML,s,c),void(i&&i(!1))}this.navbar.IncrementCart(n),c(e,s)})).catch((o=>{r.show(o),i&&i(!1)}))})).catch((o=>{r.show(o),i&&i(!1)}))}function n(e,n){const t=document.querySelector("ks-error-popup");let a=new FormData;a.append("id",e),o("inne/do_schowka.php?tok="+ksFavouritesToken,a).then((()=>{n&&n()})).catch((o=>{t.show(o),n&&n()}))}function t(o,e){$.post("inne/do_schowka.php?tok="+ksFavouritesRemoveToken,{id:o,akcja:"usun"},(function(){window.location.reload(),e&&e()}))}function a(o){$.post("inne/schowek_usun.php?tok="+ksFavouritesRemoveAllToken,{},(function(){window.location.reload(),o&&o()}))}function c(o,e){document.querySelector("ks-product-suggestions").show(o,e)}export{e as A,c as O,t as R,n as a,a as b}