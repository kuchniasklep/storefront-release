async function o(o,n){const e=new Headers;return e.append("pragma","no-cache"),e.append("cache-control","no-cache"),fetch(o,{method:"POST",body:n,headers:e,credentials:"same-origin"}).then((o=>{if(!o.ok)throw{name:o.status,message:o.statusText};return o}))}function n(n,e,t,a,s,i){const r=document.querySelector("ks-error-popup"),d=document.querySelector("ks-message-popup"),k=document.querySelector("ks-navbar");let u=new FormData;u.append("id",n),u.append("ilosc",e),u.append("cechy",t),u.append("akcja","dodaj"),o("inne/do_koszyka_ilosc.php?tok="+ksCartCountToken,u).then((async o=>o.json())).then((async u=>{if(""!=u[0].ilosc)return d.show("Błąd dodawania produktu",u[0].komunikat),void(i&&i(!1));let p=new FormData;p.append("id",n),p.append("ilosc",e),p.append("cechy",t),p.append("komentarz",""),p.append("txt",""),p.append("wroc",""),p.append("miejsce",a),await o("inne/do_koszyka.php?tok="+ksCartToken,p).then((o=>o.text())).then((o=>{var t;let a=o.indexOf("KonieczneCechy"),r=o.indexOf("TylkoGratis");if(a>0||r>0){let n=document.createElement("div");n.innerHTML=o,n.querySelector("h3").remove(),null===(t=n.querySelector(".PopUpDodaj"))||void 0===t||t.removeAttribute("id");let e=n.querySelector("#PopUpPrzyciski");const c=e.querySelector("a"),s=c?c.href:"",r=c?c.innerText:"";return e.remove(),d.show(a>0?"Konieczne cechy":"Produkt jako gratis",n.innerHTML,r,s),void(i&&i(!1))}k.IncrementCart(e),c(n,s)})).catch((o=>{r.show(o),i&&i(!1)}))})).catch((o=>{r.show(o),i&&i(!1)}))}function e(n,e){const t=document.querySelector("ks-navbar"),a=document.querySelector("ks-error-popup");let c=new FormData;c.append("id",n),o("inne/do_schowka.php?tok="+ksFavouritesToken,c).then((()=>{e&&e(),t.IncrementHeart()})).catch((o=>{a.show(o),e&&e()}))}function t(o,n){$.post("inne/do_schowka.php?tok="+ksFavouritesRemoveToken,{id:o,akcja:"usun"},(function(){window.location.reload(),n&&n()}))}function a(o){$.post("inne/schowek_usun.php?tok="+ksFavouritesRemoveAllToken,{},(function(){window.location.reload(),o&&o()}))}function c(o,n){document.querySelector("ks-product-suggestions").show(o,n)}export{n as A,c as O,t as R,e as a,a as b}