async function o(o,n){const e=new Headers;return e.append("pragma","no-cache"),e.append("cache-control","no-cache"),fetch(o,{method:"POST",body:n,headers:e,credentials:"same-origin"}).then((o=>{if(!o.ok)throw{name:o.status,message:o.statusText};return o}))}function n(n,e,t,a,s,i){const r=document.querySelector("ks-error-popup"),k=document.querySelector("ks-message-popup"),u=document.querySelector("ks-navbar");let d=new FormData;d.append("id",n),d.append("ilosc",e),d.append("cechy",t),d.append("akcja","dodaj"),o("inne/do_koszyka_ilosc.php?tok="+ksCartCountToken,d).then((async o=>o.json())).then((async d=>{if(""!=d[0].ilosc)return k.show("Błąd dodawania produktu",d[0].komunikat),void(i&&i(!1));let p=new FormData;p.append("id",n),p.append("ilosc",e),p.append("cechy",t),p.append("komentarz",""),p.append("txt",""),p.append("wroc",""),p.append("miejsce",a),await o("inne/do_koszyka.php?tok="+ksCartToken,p).then((o=>o.text())).then((o=>{let t=o.indexOf("KonieczneCechy"),a=o.indexOf("TylkoGratis");if(t>0||a>0){let n=document.createElement("div");n.innerHTML=o,n.querySelector("h3").remove();let e=n.querySelector("#PopUpPrzyciski");const a=e.querySelector("a"),c=a?a.href:"",s=a?a.innerText:"";return e.remove(),k.show(t>0?"Konieczne cechy":"Produkt jako gratis",n.innerHTML,s,c),void(i&&i(!1))}u.IncrementCart(e),c(n,s)})).catch((o=>{r.show(o),i&&i(!1)}))})).catch((o=>{r.show(o),i&&i(!1)}))}function e(n,e){const t=document.querySelector("ks-navbar"),a=document.querySelector("ks-error-popup");let c=new FormData;c.append("id",n),o("inne/do_schowka.php?tok="+ksFavouritesToken,c).then((()=>{e&&e(),t.IncrementHeart()})).catch((o=>{a.show(o),e&&e()}))}function t(o,n){$.post("inne/do_schowka.php?tok="+ksFavouritesRemoveToken,{id:o,akcja:"usun"},(function(){window.location.reload(),n&&n()}))}function a(o){$.post("inne/schowek_usun.php?tok="+ksFavouritesRemoveAllToken,{},(function(){window.location.reload(),o&&o()}))}function c(o,n){document.querySelector("ks-product-suggestions").show(o,n)}export{n as A,c as O,t as R,e as a,a as b}