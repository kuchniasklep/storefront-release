import{c as n}from"./index-84467a45.js";async function a(n,a){let e=null;return a&&(e=new FormData,Object.entries(a).forEach((([n,a])=>{e.append(n,a)}))),t(n,e)}async function t(n,a){const t=new Headers;return t.append("pragma","no-cache"),t.append("cache-control","no-cache"),fetch(n,{method:"POST",body:a,headers:t,credentials:"same-origin"}).then((n=>{if(!n.ok)throw{name:n.status,message:n.statusText};return n}))}const e=n({api:{},totalValue:0,productValue:0,productAmount:0,pointsForOrder:0,totalShippingTime:"",otherValues:[],shippingProgress:{},products:[],deals:[],dealGroups:[],shipping:[],payment:[],shippingMessage:"",paymentMessage:"",activeShipping:0,activePayment:0,points:{},discount:{},loading:0,loadingProducts:0,easyprotect:{},insured:{}});async function o(n){const a=e.get("api").easyprotectChange;c(),await async function(n,a){return t(n,JSON.stringify(a))}(a,n).then((n=>n.json())).then((n=>s(n))),r()}async function i(n){const t=e.get("api").easyprotectRemove;c(),await a(t,{id:n}).then((n=>n.json())).then((n=>s(n))),r()}function s(n){Object.keys(n).map((a=>{e.set(a,n[a])}))}function c(){e.set("loading",e.get("loading")+1)}function r(){e.set("loading",e.get("loading")-1)}export{i as a,o as e,a as f,e as s}