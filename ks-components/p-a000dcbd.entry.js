import{r as t,h as s,g as e}from"./p-cb802b7f.js";import"./p-83f217d4.js";import{T as l}from"./p-5a700d36.js";const i=class{constructor(s){t(this,s),this.value="1"}render(){return[s("div",{class:"uk-grid-small uk-margin-small-top","uk-grid":!0},this.buttons.available?this.CartButtons(this.buttons.id,this.traitIDs,this.name,this.availability.toString()):this.UnavailableButtons(this.buttons.contact)),s("div",{class:"uk-margin-small-top uk-margin-bottom"},s("ks-flex",{gutter:!0},this.InstallmentButtons(this.currentPrice)))]}CartButtons(t,e,l,i){return[s("div",{class:"uk-width-expand"},s("ks-button-cart",{product:!0,productId:t,name:l,traits:e,count:this.value})),s("div",{class:"uk-width-1-4 uk-width-1-5@s"},s("ks-button-fav",{expand:!0,"product-id":t})),i?s("form",{class:"uk-width-1-1 uk-width-1-5@s",onSubmit:t=>this.Submit(t)},s("input",{class:"uk-input uk-text-center",type:"number",min:"1",max:i,value:this.value,"aria-label":"Ilość",onChange:()=>this.CountChange(i)})):null]}Submit(t){t.preventDefault(),this.root.querySelector("ks-button-cart").AddToCart(this.value)}CountChange(t){const s=this.root.querySelector("input"),e=parseInt(s.value);this.value=e>parseInt(t)?t:e<1?"1":e.toString(),s.value=this.value,this.root.querySelector("ks-button-cart").SetCount(this.value),this.updateShippingTime(this.buttons.id,parseInt(this.value))}UnavailableButtons(t){return s("div",{class:"uk-width-expand"},t?s("a",{href:t,rel:"nofollow",class:"uk-button-danger uk-button uk-width-expand"},"NIEDOSTĘPNY, WYŚLIJ ZAPYTANIE"):s("button",{class:"uk-button-danger uk-button uk-width-1-1",disabled:!0},"NIEDOSTĘPNY"))}InstallmentButtons(t){const e=parseInt(t);let l=!1,i=!1;return e>=500&&e<=2e4&&(i=!0),e>=300&&e<=2e4&&(l=!0),[i?s("div",{class:"uk-flex-1"},s("button",{id:"ks-product-creditagricole",class:"uk-button uk-button-secondary uk-width-expand"},"RATY CA"),s("ks-product-creditagricole",{price:t,button:"ks-product-creditagricole"})):null,l?s("div",{class:"uk-flex-1"},s("button",{id:"ks-product-payu",class:"uk-button uk-button-secondary uk-width-expand"},"RATY PAYU"),s("ks-product-payu",{price:t,button:"ks-product-payu"})):null]}get root(){return e(this)}};l.injectProps(i,["buttons","traitIDs","name","availability","currentPrice","updateShippingTime"]);const a=class{constructor(s){t(this,s)}render(){return s(l.Consumer,null,t=>s("div",{class:"uk-margin-bottom uk-flex uk-flex-center uk-flex-wrap"},t.catalog?s("span",{class:"uk-label"}," ",s("b",null,"ID:")," ",t.catalog," "):null,t.model?s("span",{class:"uk-label"}," ",s("b",null,"Model:")," ",t.model," "):null,t.ean?s("span",{class:"uk-label"}," ",s("b",null,"EAN:")," ",t.ean," "):null,t.brand&&t.brandLink?s("a",{href:t.brandLink},s("span",{class:"uk-label"}," ",s("b",null,"Producent:")," ",t.brand," ")):null,t.warranty?t.warrantyLink?s("a",{href:t.warrantyLink},s("span",{class:"uk-label uk-label-danger"}," ",t.warranty," ")):s("span",{class:"uk-label uk-label-danger"}," ",t.warranty," "):null))}},n=class{constructor(s){t(this,s)}render(){let t=0;return s(l.Consumer,null,({images:e})=>s("div",{"uk-slideshow":"max-height: 500; ratio: 1:1; animation: slide"},s("div",{class:"uk-position-relative"},s("ul",{class:"uk-slideshow-items","uk-lightbox":!0},e.map(t=>s("li",null,s("a",{href:t.full,"aria-label":"Podgląd zdjęcia"},s("ks-img",{vertical:!0,center:!0,src:t.preview,alt:"Zdjęcie produktu"})))))),s("div",{class:"uk-position-small"},s("ul",{class:"uk-thumbnav uk-flex-center"},e.map(e=>s("li",{"uk-slideshow-item":t++},s("a",{href:"#","aria-label":"miniaturka zdjęcia"},s("ks-image",{src:e.thumb,alt:"Miniaturka zdjęcia",width:"50",height:"50"}))))))))}},r=class{constructor(s){t(this,s)}render(){return s(l.Consumer,null,t=>{let e=t.previousPrice.replace(".",",")+" zł",l=t.currentPrice.replace(".",",")+" zł",i=t.shippingPrice.replace(".",",")+" zł";return s("div",{class:"uk-margin-small-bottom"},s("hr",null),s("div",{class:"uk-flex uk-flex-wrap uk-flex-center uk-flex-between@s uk-flex-middle uk-text-center","uk-grid":!0},s("div",{class:"uk-text-left@s"},t.previousPrice?s("h4",{style:{margin:"0"}},s("s",null,s("b",null,e))):null,s("h3",{style:{color:"rgb(255, 27, 57)",margin:"0"}},s("b",null,l))),s("div",{class:"uk-visible@s"},"Koszt wysyłki:",s("h4",{style:{margin:"0"}},s("b",null,i))),s("div",{class:"uk-visible@s"},"Czas wysyłki:",s("h4",{style:{margin:"0"}},s("b",null,t.shippingTime)))),s("div",{class:"uk-hidden@s uk-text-center uk-margin-top"},s("div",null,"Koszt wysyłki: ",s("b",null,i)),s("div",null,"Czas wysyłki: ",s("b",null,t.shippingTime))),s("hr",null))})}},u=class{constructor(s){t(this,s)}render(){return s(l.Consumer,null,t=>s("script",{type:"application/ld+json"},this.generateData(t)))}generateData(t){const s=t.images.map(t=>"https://kuchniasklep.pl"+t.preview);var e=new Date;e.setDate(e.getDate()+120);const l=e.toISOString().indexOf("T"),i=e.toISOString().substr(0,l),a={"@context":"https://schema.org/","@type":"Product",name:t.name,description:t.description,image:s,brand:{"@type":"Thing",name:t.brand},sku:t.catalog,mpn:t.model,gtin13:t.ean,aggregateRating:t.reviews.count?{"@type":"AggregateRating",ratingValue:t.reviews.score,reviewCount:t.reviews.count}:"",review:t.reviews.review.length>0?{"@type":"Review",reviewRating:{"@type":"Rating",ratingValue:t.reviews.review[0].overallScore,bestRating:t.reviews.review[0].bestScore},author:{"@type":"Person",name:t.reviews.review[0].name}}:"",offers:{"@type":"Offer",url:window.location.href,priceCurrency:"PLN",price:t.currentPrice,priceValidUntil:i,itemCondition:"https://schema.org/NewCondition",availability:t.availability>0?"InStock":"OutOfStock"}};return JSON.stringify(a)}},o=class{constructor(s){t(this,s)}render(){return s(l.Consumer,null,({name:t,breadcrumbs:e})=>s("div",{class:"uk-text-center uk-text-left@m uk-margin-bottom"},s("h1",{style:{marginBottom:"5px"}},s("b",null,t)),s("ks-breadcrumbs",{center:!0,mobile:!0},e.map(t=>s("li",null,s("a",{href:t.link},t.name))))))}},c=class{constructor(s){t(this,s)}selectedTraits(t){const s=this.root.querySelectorAll("select");for(let l=0;l<s.length;l++)t.traits[l].selected=t.traits[l].items[s[l].selectedIndex].id;let e="";for(let l=0;l<t.traits.length;l++){const s=t.traits[l];e+="x"+s.id+"-"+s.selected}return e}async selectTrait(t){const s=t.buttons.id,e=this.selectedTraits(t),l=await this.fetchTraits("inne/produkt.php",ksTraitsToken,s,e),i=await this.fetchTraits("inne/produkt_cecha_zdjecie.php",ksTraitImageToken,s,e);t.update(null!=l.cena&&null!=l.cenapoprzednia?{currentPrice:l.cena,previousPrice:l.cenapoprzednia,ean:l.ean,catalog:l.nrkat,traitIDs:e}:{ean:l.ean,catalog:l.nrkat,traitIDs:e}),t.updateImage({full:i.duze,preview:i.duze,thumb:i.male})}async fetchTraits(t,s,e,l){return new Promise((function(i){$.post(t+"?tok="+s,{id:"555_"+e,cechy:l},(function(t){i(t)}),"json")}))}render(){return s(l.Consumer,null,t=>(t.update({traitIDs:this.selectedTraits(t)}),t.traits.map(e=>s("div",{class:"uk-margin-bottom"},s("ks-flex",null,s("div",{class:"uk-width-auto uk-flex uk-flex-center uk-flex-middle uk-padding-remove uk-margin-right"},e.name),s("div",{class:"uk-width-expand"},s("select",{"aria-label":e.name,class:"uk-select",onChange:()=>this.selectTrait(t)},e.items.map(t=>s("option",null,t.name)))))))))}get root(){return e(this)}};export{i as ks_product_buttons,a as ks_product_codes,n as ks_product_images,r as ks_product_price,u as ks_product_schema,o as ks_product_title,c as ks_product_trait}